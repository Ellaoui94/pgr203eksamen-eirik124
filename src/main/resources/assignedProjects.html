<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assigned projects | Project Manager</title>
    <link rel="stylesheet" type="text/css" href="css/assignedProject.css">
</head>
<body>
<div id="projects-container"></div>
<div>
    <ul>
        <li><a href="index.html">Return to home page</a></li>
    </ul>
</div>
<div class="info">
    <h3>Color code info</h3>
    <div class="info-box">
        <div class="info-content">
            <p>Unknown status</p>
            <div class="color-code" id="null"></div>
        </div>
    </div>
    <div class="info-box">
        <div class="info-content">
            <p>To do</p>
            <div class="color-code" id="to-do"></div>
        </div>
    </div>
    <div class="info-box">
        <div class="info-content">
            <p>In progress</p>
            <div class="color-code" id="in-progress"></div>
        </div>
    </div>
    <div class="info-box">
        <div class="info-content">
            <p>Done</p>
            <div class="color-code" id="done"></div>
        </div>
    </div>
</div>
</body>
<script>
    fetch("/api/assignedProjects")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("projects-container").innerHTML = text;
    });
    fetch("/api/fetchStatus")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        console.log(text);
        const statusUpdate = document.querySelectorAll(
            ".status_update"
        );

        [].forEach.call(statusUpdate, function (statusUpdate) {
            statusUpdate.innerHTML = text;
        });

    });
</script>
</html>